# 31

LCR 148. 验证图书取出顺序

## 题目描述

基础限制：  
书架智能按照一定的顺序放入和拿取书籍  

putIn: 图书放入顺序的整数序列  

takeOut: 取书顺序  

可以假设放入的书籍编号均不相同  

要求：  
判断takeOut是否是一个合法的取书顺序  

## 思路

最简单思路：  
模拟入栈出栈过程  

情况：  

1. 入栈A元素，此时出栈序列中为A，出栈成功  
2. 入栈A元素，但是出栈序列中是B，入栈A元素  
    直到遇见B元素，出栈B元素，并继续尝试出栈下一个元素  

如果是合法的取出顺序，最终栈应为空  
否则说明存在非法的取出顺序

另外的思路尝试：

冲突情况：  
假设在takeOut中有三本书籍A, B, C  
插入顺序A，B，C  
取出顺序C，A，B  

由于此处可以认为所有对象不一致  
我们可以为每个对象标识他们的插入顺序  
那么可以归纳冲突情况：  

设A，B，C插入顺序分别为a, b, c  
a < b < c  
如果c在a b之前  
那么a必然要出现在b之后  

也就是说，取出序列中  
我们可以维护一个当前取出的最大插入序列号max_in  
那么后面所有小于该值得插入序列号必须是递减的  
否则说明存在冲突  
